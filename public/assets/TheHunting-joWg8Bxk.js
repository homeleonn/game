import{_ as h,i as _,o,c as n,F as d,r as l,a as s,t as c,b as m}from"./index-Ckp-mKAQ.js";const u="/img/tendencies/neutral.gif",g={inject:["api","apiSubscribe"],emits:["setCurComp"],data(){return{monsters:[]}},created(){this.apiSubscribe({locMonsters:t=>{this.monsters=t},fight:t=>{},monsterAttacked:t=>{this.monsters.length&&this.monsters.forEach(e=>{e.id==t&&(e.fight=!0)})},killMonster:t=>{this.monsters=this.monsters.filter(e=>e.id!=t)},spawnMonster:t=>{this.monsters.push(t)}})},beforeUnmount(){},mounted(){this.api.doAction("getLocMonsters")},methods:{attack(t){this.api.doAction("attackMonster",t,e=>{_(e)&&(this.$emit("setCurComp","GameFight2"),this.$store.state.user.fight=1,this.$store.commit("CLEAR_FIGHT_LOG"))})}}},p={class:"hunting"},f=s("h1",{class:"center"},"Охота",-1),k={key:0,class:"monsters row"},v={class:"center b"},b={key:0,class:"mark fight-mark",title:"В бою"},C=s("img",{src:u},null,-1),y=[C],A={class:"mark level-mark"},M=["src"],$=["onClick"],w={key:1},F=s("h2",{class:"center"},"Живых монстров в данной локации нет",-1),L=[F];function x(t,e,B,E,r,a){return o(),n("div",p,[f,r.monsters.length?(o(),n("div",k,[(o(!0),n(d,null,l(r.monsters,i=>(o(),n("div",{class:"monster row",key:i},[s("div",v,c(i.name),1),s("div",null,[i.fight?(o(),n("div",b,y)):m("",!0),s("div",A,c(i.level),1),s("img",{src:"img/npc/"+i.image},null,8,M)]),s("button",{onClick:G=>a.attack(i.id)},"Напасть",8,$)]))),128))])):(o(),n("div",w,L))])}const H=h(g,[["render",x]]);export{H as default};
